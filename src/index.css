/* Framework imports */
@tailwind utilities;
@import "tailwindcss";

/* Custom variants */
@custom-variant dark (&:where(.dark, .dark *));

/* Theme variables - Sumi-e (Ink Wash) */
@theme {
  --color-zen-white: #fcfcfc;
  --color-zen-cream: #f5f5f5; /* Rice Paper */
  --color-zen-beige: #e8e8e8;
  --color-zen-sage: #a8a8a8; /* Light Ink Mist */
  --color-zen-stone: #666666; /* Medium Ink */
  --color-zen-charcoal: #333333; /* Dark Ink */
  --color-zen-ink: #1a1a1a; /* Deep Black */
  --color-zen-red: #b30000; /* Hanko Red */
  --color-zen-gold: #c5a059; /* Muted Gold */
  --color-zen-bamboo: #556b2f; /* Dark Olive */
}

/* Base element styles */
html,
body {
  transition: background-color 0.8s cubic-bezier(0.2, 0.8, 0.2, 1), color 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: "Zen Kaku Gothic New", sans-serif;
  scroll-snap-type: y mandatory;
  background-color: var(--color-zen-white);
  /* Rice paper texture */
  background-image: 
    url("data:image/svg+xml,%3Csvg width='400' height='400' viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.05'/%3E%3C/svg%3E");
  letter-spacing: 0.03em;
}

/* Typography */
h1,
h2,
h3,
.font-zen-serif {
  font-family: "Noto Serif JP", serif;
  font-weight: 500;
  letter-spacing: 0.05em;
}

.font-zen-mincho {
  font-family: "Shippori Mincho", serif;
  font-weight: 400;
}

/* Layout elements */
section {
  scroll-snap-align: start;
}

/* Washi paper texture */
.washi-texture {
  position: relative;
  background-color: var(--color-zen-white);
  background-image: 
    url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='washi'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' /%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23washi)' opacity='0.015'/%3E%3C/svg%3E");
}

/* Zen shadow - minimal and soft */
.zen-shadow {
  box-shadow: 
    0 2px 8px rgba(0, 0, 0, 0.04),
    0 1px 3px rgba(0, 0, 0, 0.02);
}

.zen-shadow-md {
  box-shadow: 
    0 4px 12px rgba(0, 0, 0, 0.06),
    0 2px 6px rgba(0, 0, 0, 0.03);
}

.zen-shadow-lg {
  box-shadow: 
    0 8px 24px rgba(0, 0, 0, 0.08),
    0 4px 12px rgba(0, 0, 0, 0.04);
}

/* Brush stroke underline */
.brush-underline {
  position: relative;
  display: inline-block;
}

.brush-underline::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -4px;
  width: 100%;
  height: 3px;
  background: currentColor;
  opacity: 0;
  transform: scaleX(0);
  transform-origin: left;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 1px;
}

.brush-underline:hover::after {
  opacity: 0.3;
  transform: scaleX(1);
}

/* Bamboo divider */
.bamboo-divider {
  position: relative;
  height: 2px;
  background: linear-gradient(to right, transparent, currentColor 20%, currentColor 80%, transparent);
  opacity: 0.2;
}

.bamboo-divider::before,
.bamboo-divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 8px;
  height: 8px;
  background: currentColor;
  border-radius: 50%;
  transform: translateY(-50%);
  opacity: 0.4;
}

.bamboo-divider::before {
  left: 20%;
}

.bamboo-divider::after {
  right: 20%;
}

/* Enso circle (Zen circle) */
.enso-circle {
  position: relative;
  display: inline-block;
}

.enso-circle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 100%;
  border: 2px solid currentColor;
  border-radius: 50%;
  transform: translate(-50%, -50%) rotate(-5deg);
  opacity: 0.15;
  border-left-color: transparent;
  border-bottom-color: transparent;
}

/* Ink wash effect */
.ink-wash {
  background: linear-gradient(135deg, 
    rgba(58, 58, 58, 0.02) 0%, 
    rgba(58, 58, 58, 0.04) 50%, 
    rgba(58, 58, 58, 0.02) 100%);
}

/* Shoji screen border */
.shoji-border {
  border: 1px solid currentColor;
  opacity: 0.15;
  position: relative;
}

.shoji-border::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 1px;
  background: currentColor;
  opacity: 0.1;
}

/* Animations */
@keyframes zen-float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

.zen-float:hover {
  animation: zen-float 3s ease-in-out infinite;
}

@keyframes ripple {
  0% {
    box-shadow: 0 0 0 0 currentColor;
    opacity: 0.3;
  }
  100% {
    box-shadow: 0 0 0 20px currentColor;
    opacity: 0;
  }
}

.ripple-effect:active::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  animation: ripple 0.6s ease-out;
}

/* Cherry blossom decoration */
@keyframes sakura-fall {
  0% {
    transform: translateY(-10px) rotate(0deg);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

.sakura {
  position: fixed;
  width: 12px;
  height: 12px;
  background: var(--color-zen-red);
  opacity: 0.3;
  border-radius: 50% 0;
  transform: rotate(45deg);
  pointer-events: none;
}

/* Slow spin animations */
@keyframes spin-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes spin-slow-reverse {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 20s linear infinite;
}

.animate-spin-slow-reverse {
  animation: spin-slow-reverse 25s linear infinite;
}

/* Dark mode - Night Zen */
body.dark {
  background-color: var(--color-zen-charcoal);
  background-image: 
    radial-gradient(circle at 25% 25%, rgba(212, 175, 55, 0.02) 0%, transparent 50%),
    radial-gradient(circle at 75% 75%, rgba(124, 154, 109, 0.02) 0%, transparent 50%);
}

body.dark .washi-texture {
  background-color: #000000;
  background-image: 
    url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='washi'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' /%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23washi)' opacity='0.01'/%3E%3C/svg%3E");
}

/* Calligraphy accent */
.calligraphy-accent {
  position: relative;
  padding-left: 1rem;
}

.calligraphy-accent::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: linear-gradient(to bottom, 
    transparent, 
    currentColor 20%, 
    currentColor 80%, 
    transparent);
  opacity: 0.3;
  border-radius: 2px;
}

/* Minimal focus states */
*:focus-visible {
  outline: 2px solid var(--color-zen-bamboo);
  outline-offset: 4px;
  opacity: 0.3;
}

.writing-vertical-rl {
  writing-mode: vertical-rl;
  text-orientation: upright;
}
